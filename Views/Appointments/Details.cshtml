@model Hospital_Managment_System.Models.Appointment

@{
    ViewData["Title"] = "Appointment Details";
}

<h1>Appointment Details</h1>

<div>
    <h4>Appointment</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Patient</dt>
        <dd class="col-sm-10">@Model.Patient.FirstName @Model.Patient.LastName</dd>

        <dt class="col-sm-2">Appointment Date</dt>
        <dd class="col-sm-10">@Model.AppointmentDate.ToString("yyyy-MM-dd HH:mm")</dd>

        <dt class="col-sm-2">Status</dt>
        <dd class="col-sm-10">@Model.AppointmentStatus</dd>

        <dt class="col-sm-2">Bill Amount</dt>
        <dd class="col-sm-10">@Model.BillAmount</dd>

        <dt class="col-sm-2">Feedback Status</dt>
        <dd class="col-sm-10">@Model.FeedbackStatus</dd>

        <dt class="col-sm-2">Doctors</dt>
        <dd class="col-sm-10">
            @foreach (var doctor in Model.Doctors)
            {
                <span>@doctor.FirstName @doctor.LastName (@doctor.Specialization)<br /></span>
            }
        </dd>
    </dl>
</div>

<div>
    <h4>Billing</h4>
    <hr />
    @if (Model.Billing != null)
    {
        <dl class="row">
            <dt class="col-sm-2">Amount</dt>
            <dd class="col-sm-10">@Model.Billing.Amount</dd>

            <dt class="col-sm-2">Status</dt>
            <dd class="col-sm-10">@Model.Billing.Status</dd>

            <dt class="col-sm-2">Billing Date</dt>
            <dd class="col-sm-10">@Model.Billing.BillingDate.ToString("yyyy-MM-dd")</dd>
        </dl>
    }
    else
    {
        <p>No billing information available.</p>
    }
</div>

<div>
    <h4>Prescriptions</h4>
    <hr />
    @if (Model.Prescriptions.Any())
    {
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Medicine</th>
                    <th>Instructions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var prescription in Model.Prescriptions)
                {
                    <tr>
                        <td>@prescription.Medicine.Name</td>
                        <td>@prescription.Instructions</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No prescriptions available.</p>
    }
</div>

<div>
    <h4>Lab Tests</h4>
    <hr />
    @if (Model.LabTests.Any())
    {
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Test Name</th>
                    <th>Result</th>
                    <th>Test Date</th>
                    <th>Completed</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var labTest in Model.LabTests)
                {
                    <tr>
                        <td>@labTest.TestName</td>
                        <td>@labTest.Result</td>
                        <td>@labTest.TestDate.ToString("yyyy-MM-dd")</td>
                        <td>@(labTest.IsCompleted ? "Yes" : "No")</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No lab tests available.</p>
    }
</div>

<div>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>
